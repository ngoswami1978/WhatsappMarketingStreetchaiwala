using System;
using System.Collections.Generic;
using System.Drawing;
using System.Linq;
using System.Windows.Forms;

namespace WhatsappAgentUI
{
    // This partial class defines the LOGIC for our popup form.
    public partial class frmEmojiPicker : Form
    {
        public string SelectedEmoji { get; private set; }

        public frmEmojiPicker()
        {
            InitializeComponent(); 
            PopulateEmojiPicker();
        }
        
        private void PopulateEmojiPicker()
        {
            var emojiCategories = new Dictionary<string, List<string>>
            {
                ["Smileys"] = new List<string> { "ğŸ˜€", "ğŸ˜", "ğŸ˜‚", "ğŸ¤£", "ğŸ˜ƒ", "ğŸ˜„", "ğŸ˜…", "ğŸ˜†", "ğŸ˜‰", "ğŸ˜Š", "ğŸ˜‹", "ğŸ˜", "ğŸ˜", "ğŸ˜˜", "ğŸ¥°", "ğŸ˜—", "ğŸ˜™", "ğŸ˜š", "ğŸ™‚", "ğŸ¤—", "ğŸ¤©", "ğŸ¤”", "ğŸ¤¨", "ğŸ˜", "ğŸ˜‘", "ğŸ˜¶", "ğŸ™„", "ğŸ˜", "ğŸ˜£", "ğŸ˜¥", "ğŸ˜®", "ğŸ¤", "ğŸ˜¯", "ğŸ˜ª", "ğŸ˜«", "ğŸ¥±", "ğŸ˜´", "ğŸ¤¤", "ğŸ˜’", "ğŸ¥´", "ğŸ˜µ", "ğŸ¤¯", "ğŸ¤ ", "ğŸ¥³", "ğŸ¥º", "ğŸ˜­", "ğŸ˜±", "ğŸ¤ª", "ğŸ˜‡", "ğŸ¥³", "ğŸ‘‹", "ğŸ‘", "ğŸ‘", "ğŸ‘Œ", "ğŸ™", "â¤ï¸" },
                ["Animals"] = new List<string> { "ğŸ¶", "ğŸ±", "ğŸ­", "ğŸ¹", "ğŸ°", "ğŸ¦Š", "ğŸ»", "ğŸ¼", "ğŸ¨", "ğŸ¯", "ğŸ¦", "ğŸ®", "ğŸ·", "ğŸ¸", "ğŸµ", "ğŸ”", "ğŸ§", "ğŸ¦", "ğŸ¤", "ğŸ¦†", "ğŸ¦…", "ğŸ¦‰", "ğŸ¦‡", "ğŸº", "ğŸ—", "ğŸ´", "ğŸ¦„", "ğŸ", "ğŸ›", "ğŸ¦‹", "ğŸŒ", "ğŸ", "ğŸœ", "ğŸ¦Ÿ", "ğŸ¦—", "ğŸ•·ï¸", "ğŸ¢", "ğŸ", "ğŸ¦", "ğŸ¦–", "ğŸ¦•", "ğŸ™", "ğŸ¦‘", "ğŸ¦", "ğŸ¦", "ğŸ¦€", "ğŸ¡", "ğŸ ", "ğŸŸ", "ğŸ¬", "ğŸ³", "ğŸ‹", "ğŸ¦ˆ" },
                ["Food"] = new List<string> { "ğŸ", "ğŸ", "ğŸ", "ğŸŠ", "ğŸ‹", "ğŸŒ", "ğŸ‰", "ğŸ‡", "ğŸ“", "ğŸˆ", "ğŸ’", "ğŸ‘", "ğŸ¥­", "ğŸ", "ğŸ¥¥", "ğŸ¥", "ğŸ…", "ğŸ†", "ğŸ¥‘", "ğŸ¥¦", "ğŸ¥¬", "ğŸ¥’", "ğŸŒ¶ï¸", "ğŸŒ½", "ğŸ¥•", "ğŸ§„", "ğŸ§…", "ğŸ¥”", "ğŸ ", "ğŸ¥", "ğŸ¥¯", "ğŸ", "ğŸ¥–", "ğŸ¥¨", "ğŸ§€", "ğŸ¥š", "ğŸ³", "ğŸ§ˆ", "ğŸ¥", "ğŸ§‡", "ğŸ¥“", "ğŸ¥©", "ğŸ—", "ğŸ–", "ğŸ¦´", "ğŸŒ­", "ğŸ”", "ğŸŸ", "ğŸ•" },
                ["Objects"] = new List<string> { "âŒš", "ğŸ“±", "ğŸ’»", "âŒ¨ï¸", "ğŸ–¥ï¸", "ğŸ–¨ï¸", "ğŸ–±ï¸", "ğŸ’¾", "ğŸ’¿", "ğŸ“€", "ğŸ“¼", "ğŸ“·", "ğŸ“¸", "ğŸ“¹", "ğŸ“", "â˜ï¸", "ğŸ“Ÿ", "ğŸ“ ", "ğŸ“º", "ğŸ“»", "ğŸ’¡", "ğŸ”¦", "ğŸ”‹", "ğŸ”Œ", "ğŸ’°", "ğŸ’µ", "ğŸ’´", "ğŸ’¶", "ğŸ’·", "ğŸ’³", "ğŸ’", "âš–ï¸", "ğŸ”§", "ğŸ”¨", "âš’ï¸", "ğŸ› ï¸", "â›ï¸", "ğŸ”©", "âš™ï¸", "ğŸ§±", "â›“ï¸", "ğŸ§°", "ğŸ§²", "ğŸ”«", "ğŸ’£", "ğŸ”ª", "ğŸ—¡ï¸", "ğŸ›¡ï¸", "ğŸš¬", "âš°ï¸", "âš±ï¸", "ğŸº", "ğŸ”®", "ğŸ“¿", "ğŸ’ˆ", "âš—ï¸", "ğŸ”­", "ğŸ”¬", "ğŸ’Š", "ğŸ’‰", "ğŸ©¸" },
                ["Symbols"] = new List<string> { "â˜®ï¸", "âœï¸", "â˜ªï¸", "ğŸ•‰ï¸", "â˜¸ï¸", "âœ¡ï¸", "ğŸ”¯", "ğŸ•", "â˜¯ï¸", "â˜¦ï¸", "ğŸ›", "â›", "â™ˆ", "â™‰", "â™Š", "â™‹", "â™Œ", "â™", "â™", "â™", "â™", "â™‘", "â™’", "â™“", "âš›ï¸", "â˜¢ï¸", "â˜£ï¸", "ï¸", "â¤ï¸â€ğŸ”¥", "â¤ï¸â€ğŸ©¹", "â¤ï¸", "ğŸ§¡", "ğŸ’›", "ğŸ’š", "ğŸ’™", "ğŸ’œ", "ğŸ–¤", "ğŸ¤", "ğŸ¤", "ğŸ’”", "â£ï¸", "ğŸ’•", "ğŸ’", "ğŸ’“", "ğŸ’—", "ğŸ’–", "ğŸ’˜", "ğŸ’", "ğŸ’Ÿ", "ğŸ’Œ", "ğŸ’¤", "ğŸ’¢", "ğŸ’¥", "ğŸ’¦", "ğŸ’¨", "ğŸ’«", "ğŸ’¬", "ğŸ’­", "ğŸŒ€", "âœ…", "âœ”ï¸", "â˜‘ï¸", "ğŸ”˜", "ğŸ”—", "âœ–ï¸", "âŒ", "â", "â•", "â–", "â—", "â°", "â¿", "â¤´ï¸", "â¤µï¸", "â¬…ï¸", "â¬†ï¸", "â¬‡ï¸", "â¡ï¸" }
            };

            foreach (var category in emojiCategories)
            {
                var panelName = "flp" + category.Key;
                var panel = this.tabControlEmojis.Controls.Find(panelName, true).FirstOrDefault() as FlowLayoutPanel;

                if (panel != null)
                {
                    foreach (var emoji in category.Value)
                    {
                        var emojiButton = new Button();
                        emojiButton.Text = emoji;
                        emojiButton.Font = new Font("Segoe UI Emoji", 12);
                        emojiButton.Size = new Size(40, 40);
                        emojiButton.Margin = new Padding(2);
                        emojiButton.Cursor = Cursors.Hand;
                        emojiButton.Click += (sender, args) =>
                        {
                            this.SelectedEmoji = emoji;
                            this.DialogResult = DialogResult.OK;
                            this.Close();
                        };
                        panel.Controls.Add(emojiButton);
                    }
                }
            }
        }
    }
}